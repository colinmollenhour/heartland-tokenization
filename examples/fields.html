<!doctype html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Hosted Fields Test</title>
  </head>
  <body>
    <form id="form" action="/charge.php" method="get">
      <div id="cardNumber"></div>
      <div id="cardCvv"></div>
      <div id="cardExp"></div>
      <div id="cardSubmit"><input id="submit" type="submit"</div>
    </form>
    <script type="text/javascript" src="../dist/securesubmit.min.js"></script>
    <script type="text/javascript">
      (function () {
        var hps = new Heartland.HPS({
          publicKey: 'pkapi_cert_dNpEYIISXCGDDyKJiV',
          type: 'iframe',
          fields: {
            cardNumber: {
              target: 'cardNumber',
              placeholder: '•••• •••• •••• ••••'
            },
            cardCvv: {
              target: 'cardCvv',
              placeholder: 'Security Code'
            },
            cardExpiration: {
              target: 'cardExp',
              placeholder: 'MM / YYYY'
            }//,
            //submit: {
            //  target: 'cardSubmit'
            //}
          },
          onTokenSuccess: function (response) {
            console.log(response);
          },
          onTokenError: function (response) {
            console.log(response);
          }
        });
        document.getElementById('form').addEventListener('submit', function (e) {
          e.preventDefault();
          //hps.Messages.post({action:'tokenize', accumulateData: true, message: 'pkapi_cert_dNpEYIISXCGDDyKJiV'}, 'cardNumber');

          hps.tokenize();
        })
      }());
    </script>
  </body>
</html>
